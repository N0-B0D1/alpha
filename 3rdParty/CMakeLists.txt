# Copyright 2014-2015 Jason R. Wendlandt
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Lua
add_subdirectory(Lua)
set_target_properties(Lua PROPERTIES FOLDER 3rdParty)

# Assimp
MARK_AS_ADVANCED(ASSIMP_BIN_INSTALL_DIR)
MARK_AS_ADVANCED(ASSIMP_BUILD_ASSIMP_TOOLS)
MARK_AS_ADVANCED(ASSIMP_BUILD_SAMPLES)
MARK_AS_ADVANCED(ASSIMP_BUILD_STATIC_LIB)
MARK_AS_ADVANCED(ASSIMP_DEBUG_POSTFIX)
MARK_AS_ADVANCED(ASSIMP_ENABLE_BOOST_WORKAROUND)
MARK_AS_ADVANCED(ASSIMP_INCLUDE_INSTALL_DIR)
MARK_AS_ADVANCED(ASSIMP_LIBRARY_SUFFIX)
MARK_AS_ADVANCED(ASSIMP_LIB_INSTALL_DIR)
MARK_AS_ADVANCED(ASSIMP_NO_EXPORT)
MARK_AS_ADVANCED(ASSIMP_OPT_BUILD_PACKAGES)
MARK_AS_ADVANCED(ASSIMP_PACKAGE_VERSION)
MARK_AS_ADVANCED(BUILD_SHARED_LIBS)
MARK_AS_ADVANCED(AMD64)
MARK_AS_ADVANCED(ASM686)

add_subdirectory(Assimp)

# force a specific set of assimp build options
# these are needed to build alpha properly.
SET(ASSIMP_BIN_INSTALL_DIR "bin" CACHE STRING "" FORCE)
SET(ASSIMP_BUILD_ASSIMP_TOOLS false CACHE BOOL "" FORCE)
SET(ASSIMP_BUILD_SAMPLES FALSE CACHE BOOL "" FORCE)
SET(ASSIMP_BUILD_STATIC_LIB TRUE CACHE BOOL "" FORCE)
SET(ASSIMP_DEBUG_POSTFIX "d" CACHE STRING "" FORCE)
SET(ASSIMP_ENABLE_BOOST_WORKAROUND TRUE CACHE BOOL "" FORCE)
SET(ASSIMP_INCLUDE_INSTALL_DIR "include" CACHE STRING "" FORCE)
SET(ASSIMP_LIBRARY_SUFFIX "" CACHE STRING "" FORCE)
SET(ASSIMP_LIB_INSTALL_DIR "lib" CACHE STRING "" FORCE)
SET(ASSIMP_NO_EXPORT FALSE CACHE BOOL "" FORCE)
SET(ASSIMP_OPT_BUILD_PACKAGES FALSE CACHE BOOL "" FORCE)
SET(ASSIMP_PACKAGE_VERSION 0 CACHE INT "" FORCE)
SET(BUILD_SHARED_LIBS FALSE CACHE BOOL "" FORCE)

set_target_properties(assimp PROPERTIES FOLDER 3rdParty)
if (TARGET zlibstatic)
    set_target_properties(zlibstatic PROPERTIES FOLDER 3rdParty)
endif (TARGET zlibstatic)

# SDL2
# hide/set most options
MARK_AS_ADVANCED(3DNOW)
MARK_AS_ADVANCED(ALSA)
MARK_AS_ADVANCED(ALSA_SHARED)
MARK_AS_ADVANCED(ALTIVEC)
MARK_AS_ADVANCED(ARTS)
MARK_AS_ADVANCED(ARTS_CONFIG)
MARK_AS_ADVANCED(ARTS_SHARED)
MARK_AS_ADVANCED(ASOUND_LIB)
MARK_AS_ADVANCED(ASSEMBLY)
MARK_AS_ADVANCED(ASSERTIONS)
MARK_AS_ADVANCED(CLOCK_GETTIME)
MARK_AS_ADVANCED(DIRECTX)
MARK_AS_ADVANCED(DISKAUDIO)
MARK_AS_ADVANCED(DUMMYAUDIO)
MARK_AS_ADVANCED(D_NAS_LIB)
MARK_AS_ADVANCED(D_SNDIO_LIB)
MARK_AS_ADVANCED(ESD)
MARK_AS_ADVANCED(ESD_SHARED)
MARK_AS_ADVANCED(FUSIONSOUND)
MARK_AS_ADVANCED(GCC_ATOMICS)
MARK_AS_ADVANCED(INPUT_TSLIB)
MARK_AS_ADVANCED(LIBC)
MARK_AS_ADVANCED(MMX)
MARK_AS_ADVANCED(NAS)
MARK_AS_ADVANCED(NAS_SHARED)
MARK_AS_ADVANCED(OSS)
MARK_AS_ADVANCED(PTHREADS)
MARK_AS_ADVANCED(PTHREADS_SEM)
MARK_AS_ADVANCED(PULSEAUDIO)
MARK_AS_ADVANCED(PULSEAUDIO_SHARED)
MARK_AS_ADVANCED(PULSE_SIMPLE_LIB)
MARK_AS_ADVANCED(RENDER_D3D)
MARK_AS_ADVANCED(RPATH)
MARK_AS_ADVANCED(SDL_ATOMIC)
MARK_AS_ADVANCED(SDL_AUDIO)
MARK_AS_ADVANCED(SDL_CPUINFO)
MARK_AS_ADVANCED(SDL_DLOPEN)
MARK_AS_ADVANCED(SDL_EVENTS)
MARK_AS_ADVANCED(SDL_FILE)
MARK_AS_ADVANCED(SDL_FILESYSTEM)
MARK_AS_ADVANCED(SDL_HAPTIC)
MARK_AS_ADVANCED(SDL_JOYSTICK)
MARK_AS_ADVANCED(SDL_LOADSO)
MARK_AS_ADVANCED(SDL_POWER)
MARK_AS_ADVANCED(SDL_RENDER)
MARK_AS_ADVANCED(SDL_SHARED)
MARK_AS_ADVANCED(SDL_STATIC)
MARK_AS_ADVANCED(SDL_THREADS)
MARK_AS_ADVANCED(SDL_TIMERS)
MARK_AS_ADVANCED(SDL_VIDEO)
MARK_AS_ADVANCED(SNDIO)
MARK_AS_ADVANCED(SSE)
MARK_AS_ADVANCED(SSE2)
MARK_AS_ADVANCED(SSEMATH)
MARK_AS_ADVANCED(VIDEO_COCOA)
MARK_AS_ADVANCED(VIDEO_DIRECTFB)
MARK_AS_ADVANCED(VIDEO_DUMMY)
MARK_AS_ADVANCED(VIDEO_MIR)
MARK_AS_ADVANCED(VIDEO_OPENGL)
MARK_AS_ADVANCED(VIDEO_OPENGLES)
MARK_AS_ADVANCED(VIDEO_WAYLAND)
MARK_AS_ADVANCED(VIDEO_X11)
MARK_AS_ADVANCED(VIDEO_X11_XCURSOR)
MARK_AS_ADVANCED(VIDEO_X11_XINERAMA)
MARK_AS_ADVANCED(VIDEO_X11_XINPUT)
MARK_AS_ADVANCED(VIDEO_X11_XRANDR)
MARK_AS_ADVANCED(VIDEO_X11_XSCRNSAVER)
MARK_AS_ADVANCED(VIDEO_X11_XSHAPE)
MARK_AS_ADVANCED(VIDEO_X11_XVM)
MARK_AS_ADVANCED(VIDEO_RPI)
MARK_AS_ADVANCED(VIDEO_VIVANTE)
MARK_AS_ADVANCED(X11_SHARED)
MARK_AS_ADVANCED(XCURSOR_LIB)
MARK_AS_ADVANCED(XEXT_LIB)
MARK_AS_ADVANCED(XINERAMA_LIB)
MARK_AS_ADVANCED(X11_LIB)
MARK_AS_ADVANCED(XRANDR_LIB)
MARK_AS_ADVANCED(XRENDER_LIB)
MARK_AS_ADVANCED(XSS_LIB)
MARK_AS_ADVANCED(XXF86VM_LIB)
MARK_AS_ADVANCED(X_INCLUDEDIR)
MARK_AS_ADVANCED(MIR_LIB)
MARK_AS_ADVANCED(MIR_SHARED)
MARK_AS_ADVANCED(VIDEO_WAYLAND_QT_TOUCH)
MARK_AS_ADVANCED(WAYLAND_CLIENT_LIB)
MARK_AS_ADVANCED(WAYLAND_CURSOR_LIB)
MARK_AS_ADVANCED(WAYLAND_EGL_LIB)
MARK_AS_ADVANCED(WAYLAND_SHARED)
MARK_AS_ADVANCED(XI_LIB)
MARK_AS_ADVANCED(XKBCOMMON_LIB)

# force SDL to build as shared library, without renderer support
SET(SDL_ATOMIC TRUE CACHE BOOL "" FORCE)
SET(SDL_AUDIO TRUE CACHE BOOL "" FORCE)
SET(SDL_CPUINFO TRUE CACHE BOOL "" FORCE)
SET(SDL_DLOPEN TRUE CACHE BOOL "" FORCE)
SET(SDL_EVENTS TRUE CACHE BOOL "" FORCE)
SET(SDL_FILE TRUE CACHE BOOL "" FORCE)
SET(SDL_FILESYSTEM TRUE CACHE BOOL "" FORCE)
SET(SDL_HAPTIC TRUE CACHE BOOL "" FORCE)
SET(SDL_JOYSTICK TRUE CACHE BOOL "" FORCE)
SET(SDL_LOADSO TRUE CACHE BOOL "" FORCE)
SET(SDL_POWER TRUE CACHE BOOL "" FORCE)
SET(SDL_RENDER FALSE CACHE BOOL "" FORCE)
SET(SDL_SHARED TRUE CACHE BOOL "" FORCE)
SET(SDL_STATIC FALSE CACHE BOOL "" FORCE)
SET(SDL_THREADS TRUE CACHE BOOL "" FORCE)
SET(SDL_TIMERS TRUE CACHE BOOL "" FORCE)
SET(SDL_VIDEO TRUE CACHE BOOL "" FORCE)

# Force specific SDL video build options per platform requirements
SET(VIDEO_COCOA FALSE CACHE BOOL "" FORCE)
SET(VIDEO_DIRECTFB FALSE CACHE BOOL "" FORCE)
SET(VIDEO_MIR FALSE CACHE BOOL "" FORCE)
SET(VIDEO_OPENGLES FALSE CACHE BOOL "" FORCE)
SET(VIDEO_RPI FALSE CACHE BOOL "" FORCE)
SET(VIDEO_VIVANTE FALSE CACHE BOOL "" FORCE)
SET(VIDEO_WAYLAND FALSE CACHE BOOL "" FORCE)
SET(VIDEO_WAYLAND_QT_TOUCH FALSE CACHE BOOL "" FORCE)

SET(VIDEO_DUMMY TRUE CACHE BOOL "" FORCE)
SET(VIDEO_OPENGL TRUE CACHE BOOL "" FORCE)

if (WIN32)
    #SET(SDL_VIDEO TRUE CACHE BOOL "" FORCE)
elseif (UNIX)
    SET(VIDEO_X11 TRUE CACHE BOOL "" FORCE)
endif ()

add_subdirectory(SDL2)
set_target_properties(SDL2 PROPERTIES FOLDER 3rdParty)
set_target_properties(SDL2main PROPERTIES FOLDER 3rdParty)

if (TARGET uninstall)
    set_target_properties(uninstall PROPERTIES FOLDER 3rdParty)
endif()
